<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>ES6 array helper method</title>
</head>

<body>

    <script>
        //forEach : 배열 길이만큼 반복하기
        //basic 
        var fruits = ['apple', 'banana', 'peach', 'blue berry'];
        for (var i = 0; i < fruits.length; i++) {
            //console.log(fruits[i]);
        }

        var fruits = ['apple', 'banana', 'peach', 'blue berry'];
        fruits.forEach(function (item) { //배열에 있는 요소 꺼낸것
            //console.log(item);
        })



        //map
        //basic 버전
        var fruits = ['apple', 'banana', 'peach', 'blue berry'];
        var juice = [];

        for (var i = 0; i < fruits.length; i++) {
            juice.push(fruits[i] + 'juice');
        }

        //map을 사용해보자
        var fruits = ['apple', 'banana', 'peach', 'blue berry'];
        var juice = fruits.map(function (fruit) { //map의 callback함수 같은것..
            return fruit + 'juice';
        })

        //map + 화살표 함수를 사용해보자

        var fruits = ['apple', 'banana', 'peach', 'blue berry'];
        var juice = fruits.map(fruit => `${fruit}juice`); //map함수의 결과로 새로운 배열 만든다
        console.log(juice);



        //filter (객체 배열에서 특정 조건에 맞는 원소들로만 배열을 만들 때)
        //basic
        var datas = [{
                id: 3,
                type: 'comment',
                content: '굿모닝'
            },
            {
                id: 6,
                type: 'post',
                content: '좋은 아침이네요'
            },
            {
                id: 10,
                type: 'comment',
                content: '아침에는 시원한 물 한잔'
            },
            {
                id: 6,
                type: 'post',
                content: '공부하기 싫어요'
            }
        ];

        var filterData = [];

        for (var i = 0; i < datas.length; i++) {
            if (datas[i] === 'post') {
                filterData.push(datas[i]);
            }
        }

        //filter함수 사용
        var filteredData = datas.filter(data => {
            return data.type === 'post'; //true 인 걸로만 가져와서 배열 만든다.
        });



        //find (배열에서 특정 값을 검색할 때), 원하는 값 못 찾으면 undefined 반환
        var ret = datas.find(data => {
            return data.id === 10;
        });


        //every (배열의 모든 요소가 어떤 기준에 맞을 때 true 반환)
        var scores = [{
                subject: '국어',
                point: '100'
            },
            {
                subject: '영어',
                point: '90'
            },
            {
                subject: '수학',
                point: '80'
            },
            {
                subject: '컴퓨터',
                point: '10'
            }
        ];

        var pass = scores.every(score => score.point > 70);    //score 70점 이상인 것 리턴해
        //console.log(pass); //하나라도 false면 false를 리턴한다.


        //some (배열의 요소 중 하나라도 어떤 기준을 충족하면 true)
        var pass = scores.some(score=>score.point>70);
        console.log(pass);

        
        //reduce (배열의 각 원소에 대해서 첫번쨰 원소부터 마지막 원소 순으로 연산한 값이 줄도록 함수 적용)
        var scores = [1,2,3,4,5];
        //basic
        var sum = 0;
        for(var i=0; i<scores.length; i++){
            sum+=scores[i];
        }
        //reduce 함수 사용
        var sum = scores.reduce((sum, number) => sum+number, 0);
    </script>

</body>

</html>